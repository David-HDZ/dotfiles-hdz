- defaults:
    link:
      create: true
      relink: true

- clean: ["~"]

- link:
    ~/.antigenrc: antigenrc
    ~/.Brewfile: Brewfile
    ~/.gitconfig: gitconfig
    ~/.p10k.zsh: p10k.zsh
    ~/.vimrc: vimrc
    ~/.zprofile: zprofile
    ~/.zshaliases: zshaliases
    ~/.zshenv: zshenv
    ~/.zshrc: zshrc

- shell:
    - command: |
        if ! brew bundle check --file="~/.Brewfile"; then
          brew bundle install --file="~/.Brewfile"
        fi
      description: "Install Homebrew packages"

    - command: git submodule update --init --recursive
      description: "Updating submodules"
